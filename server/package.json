{
  "name": "wildr-server",
  "version": "0.0.1",
  "main": "dist/src/main.js",
  "author": "Wildr Inc",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "prepare": "cd .. husky install server/.husky",
    "populate-post-categories": "yarn ts-node scripts/populate-categories.ts",
    "prebuild": "rm -rf dist",
    "admin:build": "NODE_OPTIONS='--max-old-space-size=8192' tsc && cp src/graphql/schema/schema.graphql dist/src/graphql/schema/ && cp src/troll-detector/troll-detector.schema.graphql dist/src/troll-detector/",
    "server:build": "NODE_OPTIONS='--max-old-space-size=8192' tsc && cp src/graphql/schema/schema.graphql dist/src/graphql/schema/ && cp src/troll-detector/troll-detector.schema.graphql dist/src/troll-detector/",
    "build": "NODE_OPTIONS='--max-old-space-size=8192' tsc && cp src/graphql/schema/schema.graphql dist/src/graphql/schema/ && cp src/troll-detector/troll-detector.schema.graphql dist/src/troll-detector/",
    "build:trace": "tsc && cp src/graphql/schema/schema.graphql dist/src/graphql/schema/",
    "code:format": "prettier --write --config ./.prettierrc.js  'src/**/*.{ts,js}'",
    "code:lint": "NODE_OPTIONS='--max-old-space-size=8192' eslint src --ext .js,.jsx,.ts,.tsx",
    "code:clean": "yarn code:lint && yarn code:format",
    "format:deprecated": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "yarn nest start -e 'node -r dotenv/config -r ./dd-tracer.js'",
    "start:dev": "NODE_OPTIONS='--max-old-space-size=8000' yarn nest start -p tsconfig.json --watch -e 'node -r ./env/server-local-config -r source-map-support/register'",
    "start:debug": "nest start -c nest-cli.json --debug --watch -e 'node -r ./env/server-local-config -r source-map-support/register'",
    "start:prod": "node --inspect --trace-uncaught -r dotenv/config -r ./tsconfig-paths-bootstrap.js -r source-map-support/register -r ./dd-tracer.js dist/src/main.js",
    "admin:start:dev": "yarn nest start -p tsconfig.json -c nest-cli-admin.json --watch -e 'node -r ./env/admin-local-config -r source-map-support/register'",
    "admin:start:prod": "node -r dotenv/config -r ./tsconfig-paths-bootstrap.js -r source-map-support/register dist/src/admin.js",
    "start:admin": "node -r dotenv/config -r ./tsconfig-paths-bootstrap.js -r source-map-support/register dist/src/admin.js",
    "worker:start:dev": "yarn nest start -p tsconfig.json -c nest-cli-worker.json --watch -e 'node -r ./env/worker-local-config -r source-map-support/register '",
    "worker:start:debug": "nest start -c nest-cli-worker.json --watch -e 'node -r ./env/worker-local-config -r source-map-support/register -r ./dd-tracer.js'",
    "worker:start:prod": "node --inspect --trace-uncaught -r dotenv/config -r ./tsconfig-paths-bootstrap.js -r source-map-support/register -r ./dd-tracer.js dist/src/worker.js",
    "repl:dev": "yarn nest start -p tsconfig.json -c nest-cli-repl.json -e 'node -r ./env/local-config -r source-map-support/register'",
    "repl:prod": "node --trace-uncaught -r dotenv/config -r ./tsconfig-paths-bootstrap.js -r source-map-support/register -r ./dd-tracer.js dist/src/repl.js",
    "test": "TZ=UTC jest --config jest.config.ts",
    "test:changed": "TZ=UTC jest --onlyChanged --config jest.config.ts",
    "test:watch": "TZ=UTC jest --watch --config jest.config.ts",
    "test:cov": "TZ=UTC jest --coverage --config jest.config.ts",
    "test:debug": "TZ=UTC node --inspect-brk -r ./tsconfig-paths-bootstrap.js -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:int": "TZ=UTC jest --config test/jest-int.config.ts",
    "test:e2e": "TZ=UTC jest --config test/jest-e2e.config.ts",
    "test:e2e:load": "TZ=UTC jest --config test/jest-e2e-load.config.ts",
    "db:dev:log": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts schema:log",
    "db:dev:drop": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts schema:drop",
    "db:dev:sync": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts schema:sync",
    "db:dev:query": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts query",
    "db:test:drop": "yarn ts-node -r ./env/admin-test-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts schema:drop",
    "db:test:sync": "yarn ts-node -r ./env/admin-test-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts schema:sync",
    "bidb:dev:log": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-bi.ts schema:log -c wildr_bi",
    "bidb:dev:drop": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-bi.ts schema:drop -c wildr_bi",
    "bidb:dev:sync": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-bi.ts schema:sync -c wildr_bi",
    "bidb:dev:query": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-bi.ts query -c wildr_bi",
    "bidb:test:drop": "yarn ts-node -r ./env/test-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-bi.ts schema:drop -c wildr_bi",
    "bidb:test:sync": "yarn ts-node -r ./env/test-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-bi.ts schema:sync -c wildr_bi",
    "fixtures:dev": "fixtures ./db/fixtures/dev --debug --config db/typeormconfig.ts --sync --require=dotenv/config --require=ts-node/register --require=./tsconfig-paths-bootstrap.js",
    "db:dev:typeorm": "yarn ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts",
    "db:typeorm": "yarn node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts",
    "db:dev:cli": "yarn node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js --config src/typeorm/typeormconfig-wildr.ts",
    "graphql:generate:server": "ts-node-script generate-typings.ts",
    "migration:run": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:run --config src/typeorm/typeormconfig-wildr.ts",
    "migration:create": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:create --config src/typeorm/typeormconfig-wildr.ts",
    "migration:generate": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:generate --config src/typeorm/typeormconfig-wildr.ts",
    "migration:show": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:show --config src/typeorm/typeormconfig-wildr.ts",
    "migration:revert": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:revert --config src/typeorm/typeormconfig-wildr.ts",
    "migration:prod:run": "node -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:run --config ./dist/src/typeorm/typeormconfig-wildr.js",
    "migration:prod:show": "node -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:show --config ./dist/src/typeorm/typeormconfig-wildr.js",
    "migration:prod:revert": "node -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:revert --config ./dist/src/typeorm/typeormconfig-wildr.js",
    "bi:migration:run": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:run --config src/typeorm/typeormconfig-bi.ts -c wildr_bi",
    "bi:migration:generate": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:generate --config src/typeorm/typeormconfig-bi.ts -c wildr_bi",
    "bi:migration:show": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:show --config src/typeorm/typeormconfig-bi.ts -c wildr_bi",
    "bi:migration:revert": "ts-node -r ./env/admin-local-config -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:revert --config src/typeorm/typeormconfig-bi.ts -c wildr_bi",
    "bi:migration:prod:run": "node -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:run --config ./dist/src/typeorm/typeormconfig-bi.js -c wildr_bi",
    "bi:migration:prod:show": "node -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:show --config ./dist/src/typeorm/typeormconfig-bi.js -c wildr_bi",
    "bi:migration:prod:revert": "node -r ./tsconfig-paths-bootstrap.js ./node_modules/typeorm/cli.js migration:revert --config ./dist/src/typeorm/typeormconfig-bi.js -c wildr_bi",
    "opensearch:create-mappings": "ts-node ./scripts/open-search/create-mappings.ts",
    "opensearch:get-mappings": "ts-node ./scripts/open-search/get-mappings.ts",
    "opensearch:delete-mappings": "ts-node ./scripts/open-search/delete-mappings.ts"
  },
  "husky": {
    "hooks": {
      "pre-commit": "yarn code:clean",
      "pre-push": ""
    }
  },
  "dependencies": {
    "@apollo/gateway": "2.3.0",
    "@aws-sdk/abort-controller": "^3.0.0",
    "@aws-sdk/client-s3": "^3.51.0",
    "@aws-sdk/client-ssm": "^3.118.1",
    "@aws-sdk/cloudfront-signer": "^3.110.0",
    "@aws-sdk/lib-storage": "^3.51.0",
    "@aws-sdk/s3-request-presigner": "^3.51.0",
    "@aws-sdk/signature-v4-crt": "^3.52.0",
    "@liaoliaots/nestjs-redis": "^9.0.5",
    "@nestjs/apollo": "10.1.7",
    "@nestjs/bull": "0.6.2",
    "@nestjs/cli": "9.1.9",
    "@nestjs/common": "9.2.1",
    "@nestjs/core": "9.2.1",
    "@nestjs/graphql": "10.1.7",
    "@nestjs/jwt": "10.0.1",
    "@nestjs/passport": "9.0.0",
    "@nestjs/platform-express": "9.2.1",
    "@nestjs/throttler": "^5.0.1",
    "@nestjs/typeorm": "9.0.1",
    "@opentelemetry/api": "^1.3.0",
    "@opentelemetry/auto-instrumentations-node": "^0.36.0",
    "@opentelemetry/context-async-hooks": "^1.8.0",
    "@opentelemetry/exporter-metrics-otlp-http": "^0.34.0",
    "@opentelemetry/exporter-trace-otlp-http": "^0.34.0",
    "@opentelemetry/instrumentation": "^0.34.0",
    "@opentelemetry/resources": "^1.8.0",
    "@opentelemetry/sdk-metrics": "^1.8.0",
    "@opentelemetry/sdk-node": "^0.34.0",
    "@opentelemetry/sdk-trace-base": "^1.8.0",
    "@opentelemetry/semantic-conventions": "^1.8.0",
    "@ssut/nestjs-sqs": "1.3.0",
    "apollo-server-express": "^3.6.3",
    "apple-auth": "^1.0.7",
    "aws-sdk": "2.1271.0",
    "axios": "^0.21.1",
    "bcrypt": "^5.0.1",
    "bull": "4.10.2",
    "class-transformer": "^0.3.1",
    "class-validator": "0.13.2",
    "compare-versions": "^6.0.0-rc.1",
    "date-fns": "^2.28.0",
    "date-fns-tz": "^2.0.0",
    "dd-trace": "^2.8.0",
    "dotenv": "^8.2.0",
    "express": "4.17.1",
    "firebase-admin": "10.0.2",
    "firebase-auth": "^0.1.2",
    "form-data": "^4.0.0",
    "generate-password": "^1.6.0",
    "google-auth-library": "^7.1.2",
    "googleapis": "^107.0.0",
    "graphql": "^16.3.0",
    "graphql-upload": "^13.0.0",
    "hot-shots": "^9.0.0",
    "husky": "^8.0.1",
    "ioredis": "^5.3.2",
    "is-unicode-supported": "^1.1.0",
    "jwt-decode": "^3.1.2",
    "lodash": "^4.17.21",
    "luxon": "^3.4.0",
    "mailgun.js": "^7.0.4",
    "make-error": "1.3.6",
    "nanoid": "^3.1.12",
    "nest-winston": "1.8.0",
    "nestjs-otel": "^5.0.0",
    "neverthrow": "^6.0.0",
    "passport": "^0.4.1",
    "passport-firebase-jwt": "^1.2.1",
    "passport-jwt": "^4.0.0",
    "passport-local": "^1.0.0",
    "pg": "^8.5.0",
    "reflect-metadata": "^0.1.13",
    "rxjs": "^7.5.4",
    "sharp": "^0.32.1",
    "tmpl": "1.0.5",
    "ts-morph": "^13.0.3",
    "tsconfig-paths": "^3.9.0",
    "typeorm": "0.2.45",
    "typescript-map": "^0.1.0",
    "winston": "^3.3.3"
  },
  "devDependencies": {
    "@faker-js/faker": "^7.6.0",
    "@nestjs/schematics": "^7.0.0",
    "@nestjs/testing": "9.2.1",
    "@types/autocannon": "^7.9.1",
    "@types/bcrypt": "^3.0.0",
    "@types/bull": "^3.15.6",
    "@types/express": "^4.17.3",
    "@types/graphql-upload": "^8.0.11",
    "@types/jest": "26.0.10",
    "@types/lodash": "^4.14.170",
    "@types/luxon": "^3.3.1",
    "@types/mime-types": "^2.1.0",
    "@types/node": "16",
    "@types/passport-jwt": "^3.0.3",
    "@types/passport-local": "^1.0.33",
    "@types/sinon": "^10.0.14",
    "@types/supertest": "^2.0.12",
    "@types/validator": "^13.7.1",
    "@types/webgl2": "^0.0.6",
    "@types/ws": "^8.2.3",
    "@typescript-eslint/eslint-plugin": "^5.36.1",
    "@typescript-eslint/parser": "^5.12.0",
    "autocannon": "^7.11.0",
    "bull-repl": "0.29.0",
    "chalk": "4.1.2",
    "eslint": "^8.9.0",
    "eslint-config-prettier": "^7.2.0",
    "eslint-plugin-import": "^2.20.1",
    "eslint-plugin-prettier": "^3.3.1",
    "fb-watchman": "^2.0.1",
    "firebase": "^10.7.0",
    "jest": "^27.5.1",
    "jest-mock": "^29.4.0",
    "leaked-handles": "^5.2.0",
    "prettier": "^2.2.1",
    "sinon": "^15.0.4",
    "source-map-support": "^0.5.19",
    "supertest": "^6.3.3",
    "ts-jest": "27",
    "ts-loader": "^6.2.1",
    "ts-node": "^10.8.2",
    "typeorm-fixtures-cli": "1.11.1",
    "typescript": "4.5.4"
  },
  "resolutions": {
    "tmpl": "^1.0.5"
  }
}
